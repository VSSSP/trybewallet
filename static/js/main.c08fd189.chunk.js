(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{31:function(e,t,a){e.exports=a.p+"static/media/wallet.4a994f72.png"},34:function(e,t,a){e.exports=a(47)},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),c=a.n(l),o=a(8),s=a(24),i=a(2),u=a(16),d=a(3),m=a(4),p=a(12),E=a(6),h=a(5),b={LOGIN_INFO:"LOGIN_INFO",WALLET_INFO:"WALLET_INFO",GET_WALLET_API_SUCCESS:"GET_WALLET_API_SUCCESS",GET_WALLET_API_FAILED:"GET_WALLET_API_FAILED",LOADING_API:"LOADING_API",GET_EXPENSES:"GET_EXPENSES",DELETE_EXPENSE:"DELETE_EXPENSE",EDIT_EXPENSE:"EDIT_EXPENSE",SET_NEW_EXPENSE:"SET_NEW_EXPENSE",LOAD_EDITED_EXPENSE:"LOAD_EDITED_EXPENSE"},v=b.GET_WALLET_API_SUCCESS,f=b.GET_WALLET_API_FAILED,y=b.GET_EXPENSES,O=b.LOGIN_INFO,g=b.DELETE_EXPENSE,j=b.EDIT_EXPENSE,k=b.SET_NEW_EXPENSE,N=function(e){return{type:f,payload:e}},x=a(31),C=a.n(x),S=function(e){Object(E.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).state={email:"",senha:""},e.handleChange=e.handleChange.bind(Object(p.a)(e)),e.handleClick=e.handleClick.bind(Object(p.a)(e)),e}return Object(m.a)(a,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(u.a)({},a,n))}},{key:"enableButton",value:function(){return this.state.senha.length<6||!this.emailValidation()}},{key:"emailValidation",value:function(){var e=this.state.email;return/^[a-z0-9.]+@[a-z0-9]+\.[a-z]+(\.[a-z]+)?$/i.test(e)}},{key:"handleClick",value:function(){(0,this.props.setLoginToStore)(this.state),this.setState({redirect:!0})}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.senha;return e.redirect?r.a.createElement(i.a,{to:"/carteira"}):r.a.createElement("div",{class:"wrapper fadeInDown"},r.a.createElement("div",{id:"formContent"},r.a.createElement("div",{class:"fadeIn first"},r.a.createElement("img",{src:C.a,id:"icon",alt:"User Icon"})),r.a.createElement("form",null,r.a.createElement("input",{type:"email",name:"email",value:t,placeholder:"e-mail","data-testid":"email-input",onChange:this.handleChange,className:"fadeIn second login-input"}),r.a.createElement("input",{type:"password",name:"senha",value:a,placeholder:"senha","data-testid":"password-input",onChange:this.handleChange,className:"fadeIn third login-input"}),r.a.createElement("button",{disabled:this.enableButton(),type:"button",onClick:this.handleClick,className:"fadeIn fourth login-button"},"Entrar"))))}}]),a}(n.Component),_=Object(o.b)(null,(function(e){return{setLoginToStore:function(t){return e({type:O,payload:t})}}}))(S),T=function(e){Object(E.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).handleClick=e.handleClick.bind(Object(p.a)(e)),e.handleEditButtonClick=e.handleEditButtonClick.bind(Object(p.a)(e)),e}return Object(m.a)(a,[{key:"ask",value:function(e){var t=e.exchangeRates[e.currency].ask;return parseFloat(t).toFixed(2)}},{key:"currencyName",value:function(e){return e.exchangeRates[e.currency].name.split("/")[0]}},{key:"convertedExpense",value:function(e){var t=e.exchangeRates[e.currency].ask;return parseFloat(e.value*t).toFixed(2)}},{key:"handleClick",value:function(e){var t=e.target.id;(0,this.props.deleteExpenseFromStore)(Number(t))}},{key:"handleEditButtonClick",value:function(e){var t=e.target.id;(0,this.props.editExpenseFromStore)(Number(t))}},{key:"render",value:function(){var e=this,t=this.props.expenses;return r.a.createElement(r.a.Fragment,null,t.map((function(t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.tag),r.a.createElement("td",null,t.method),r.a.createElement("td",null,t.value),r.a.createElement("td",null,e.ask(t)),r.a.createElement("td",null,e.currencyName(t)),r.a.createElement("td",null,e.convertedExpense(t)),r.a.createElement("td",null,"Real"),r.a.createElement("button",{type:"button",rel:"tooltip",class:"btn btn-success btn-round btn-just-icon btn-sm",id:t.id,onClick:e.handleEditButtonClick},r.a.createElement("i",{class:"material-icons"},"edit")),r.a.createElement("button",{type:"button",rel:"tooltip",class:"btn btn-danger btn-round btn-just-icon btn-sm",id:t.id,onClick:e.handleClick},r.a.createElement("i",{class:"material-icons"},"close")))})))}}]),a}(n.Component),I=Object(o.b)((function(e){return{expenses:e.wallet.expenses}}),(function(e){return{deleteExpenseFromStore:function(t){return e({type:g,payload:t})},editExpenseFromStore:function(t){return e({type:j,payload:t})}}}))(T),w=function(e){Object(E.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("tr",null,["Descri\xe7\xe3o","Tag","M\xe9todo de pagamento","Valor","Moeda","C\xe2mbio utilizado","Valor convertido","Moeda de convers\xe3o","Editar/Excluir"].map((function(e){return r.a.createElement("th",{key:e},e)})))}}]),a}(n.Component),L=function(e){Object(E.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"col-lg-8 col-md-10 ml-auto mr-auto"},r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement(w,null),r.a.createElement(I,null))))}}]),a}(n.Component),F=a(7),A=a(17),D=a.n(A),P=a(21),G=function(e){Object(E.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.tags;return r.a.createElement(r.a.Fragment,null,e.map((function(e){return r.a.createElement("option",{key:e},e)})))}}]),a}(n.Component),X=function(e){Object(E.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.payMethods;return r.a.createElement(r.a.Fragment,null,e.map((function(e){return r.a.createElement("option",{key:e},e)})))}}]),a}(n.Component),W=function(){return function(){var e=Object(P.a)(D.a.mark((function e(t){var a,n,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://economia.awesomeapi.com.br/json/all");case 3:if((a=e.sent).ok){e.next=6;break}throw new Error("xabl\xe9u");case 6:return e.next=8,a.json();case 8:n=e.sent,r=Object.keys(n).filter((function(e){return"USDT"!==e})),t({type:v,payload:r}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),t(N(e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}()},B=function(e){Object(E.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.getCurrencies)()}},{key:"render",value:function(){var e=this.props.currencies;return r.a.createElement(r.a.Fragment,null,e.map((function(e){return r.a.createElement("option",{key:e},e)})))}}]),a}(n.Component),R=Object(o.b)((function(e){return{currencies:e.wallet.currencies}}),(function(e){return{getCurrencies:function(){return e(W())}}}))(B),M=function(e){Object(E.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).state={value:"0",description:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",exchangeRates:{}},e.handleChange=e.handleChange.bind(Object(p.a)(e)),e.handleClick=e.handleClick.bind(Object(p.a)(e)),e.handleEditExpenseButton=e.handleEditExpenseButton.bind(Object(p.a)(e)),e}return Object(m.a)(a,[{key:"handleClick",value:function(){var e=Object(P.a)(D.a.mark((function e(){var t,a,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.sendExpensesToStore,e.next=3,fetch("https://economia.awesomeapi.com.br/json/all");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,this.setState({exchangeRates:n}),t(this.state);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleEditExpenseButton",value:function(){var e=this.props,t=e.sendEditedExpenseToStore,a=e.expenses,n=e.selectedId;t(this.state),t(Object(F.a)(Object(F.a)({},this.state),{},{exchangeRates:a[n].exchangeRates}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(u.a)({},a,n))}},{key:"addExpenseButton",value:function(){return r.a.createElement("button",{className:"btn btn-form btn-outline-mdb-color m-0 px-3 py-2 z-depth-0 waves-effect",type:"button",onClick:this.handleClick},"Adicionar despesa")}},{key:"editExpenseButton",value:function(){return r.a.createElement("button",{className:"btn btn-form btn-md btn-outline-mdb-color m-3 px-3 py-2 z-depth-0 waves-effect",type:"button",onClick:this.handleEditExpenseButton},"Editar despesa")}},{key:"render",value:function(){var e=this.props.editing;return r.a.createElement("div",{className:""},r.a.createElement("hr",null),r.a.createElement("form",{className:"form form-font"},r.a.createElement("label",{className:"",htmlFor:"valor"},r.a.createElement("p",{id:"value"},"Valor:"),r.a.createElement("input",{className:"",type:"text",name:"value",id:"valor",onChange:this.handleChange})),r.a.createElement("label",{htmlFor:"descricao"},r.a.createElement("p",{className:"describe"},"Descri\xe7\xe3o:"),r.a.createElement("textarea",{className:"",name:"description",id:"descricao",onChange:this.handleChange})),r.a.createElement("label",{className:"",htmlFor:"moeda"},"Moeda:",r.a.createElement("select",{className:"browser-default custom-select",id:"inputGroupSelect01 moeda",onChange:this.handleChange,name:"currency"},r.a.createElement(R,null))),r.a.createElement("label",{htmlFor:"m\xe9todo de pagamento"},"M\xe9todo de pagamento:",r.a.createElement("select",{className:"browser-default custom-select",id:"inputGroupSelect01 m\xe9todo de pagamento",onChange:this.handleChange,name:"method"},r.a.createElement(X,{payMethods:["Dinheiro","Cart\xe3o de cr\xe9dito","Cart\xe3o de d\xe9bito"]}))),r.a.createElement("label",{htmlFor:"tag"},"Tag:",r.a.createElement("select",{className:"browser-default custom-select",id:"inputGroupSelect01 tag",onChange:this.handleChange,name:"tag"},r.a.createElement(G,{tags:["Alimenta\xe7\xe3o","Lazer","Trabalho","Transporte","Sa\xfade"]})))),r.a.createElement("div",{className:"input-group-append form-button"},e?this.editExpenseButton():this.addExpenseButton()),r.a.createElement("hr",null))}}]),a}(n.Component),U=Object(o.b)((function(e){return{editing:e.wallet.editing,expenses:e.wallet.expenses,selectedId:e.wallet.selectedId}}),(function(e){return{sendExpensesToStore:function(t){return e({type:y,payload:t})},sendEditedExpenseToStore:function(t){return e({type:k,payload:t})}}}))(M),z=function(e){Object(E.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"sumExpenses",value:function(){return this.props.expenses.reduce((function(e,t){var a=t.exchangeRates[t.currency].ask,n=e+parseFloat(t.value*a);return Math.round(100*n)/100}),0)}},{key:"render",value:function(){return r.a.createElement("spam",{"data-testid":"total-field"},"R$ ",this.sumExpenses())}}]),a}(n.Component),V=Object(o.b)((function(e){return{expenses:e.wallet.expenses}}),null)(z),$=function(e){Object(E.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.getUserFromStore;return r.a.createElement("div",{className:"fixed-top header"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark mx-background-top-linear"},r.a.createElement("div",{className:"container"},r.a.createElement("a",{className:"navbar-brand",rel:"nofollow",href:"http://vsssp.github.io/trybewallet"}," TrybeWallet "),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarResponsive","aria-controls":"navbarResponsive","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse total",id:"navbarResponsive"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item total"},r.a.createElement("spam",{className:"nav-link user"},"Usuario: ",e)),r.a.createElement("li",{className:"nav-item"},r.a.createElement("spam",{className:"nav-link"},"Total: ",r.a.createElement(V,null))))))))}}]),a}(n.Component),J=Object(o.b)((function(e){return{getUserFromStore:e.user.email}}),null)($),q=function(e){Object(E.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"info"},"Momentaneamente indispon\xedvel para smartphones e telas pequenas"),r.a.createElement("div",{className:"all"},r.a.createElement(J,null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(U,null),r.a.createElement(L,null)))}}]),a}(r.a.Component);a(45);var H=function(){return r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:_}),r.a.createElement(i.b,{path:"/carteira",component:q}))};a(46),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=a(14),Q=a(32),Y=a(33),Z={email:"",password:""},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.LOGIN_INFO:return Object(F.a)(Object(F.a)({},e),{},{email:t.payload.email,password:t.payload.senha});default:return e}},te=a(22),ae=b.GET_WALLET_API_SUCCESS,ne=b.GET_EXPENSES,re=b.DELETE_EXPENSE,le=b.EDIT_EXPENSE,ce=b.SET_NEW_EXPENSE,oe={currencies:[],expenses:[],error:"",editing:!1,selectedId:null},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae:return Object(F.a)(Object(F.a)({},e),{},{currencies:t.payload});case ne:return t.payload=Object(F.a)({id:e.expenses.length},t.payload),e.expenses=[].concat(Object(te.a)(e.expenses),[t.payload]),Object(F.a)({},e);case re:return Object(F.a)(Object(F.a)({},e),{},{expenses:e.expenses.filter((function(e){return e.id!==t.payload}))});case le:return Object(F.a)(Object(F.a)({},e),{},{editing:!0,selectedId:t.payload});case ce:return t.payload=Object(F.a)({id:e.selectedId},t.payload),Object(F.a)(Object(F.a)({},e),{},{expenses:e.expenses.reduce((function(a,n){return n.id===e.selectedId?[].concat(Object(te.a)(a),[t.payload]):[].concat(Object(te.a)(a),[n])}),[]),editing:!1});default:return e}},ie=Object(K.combineReducers)({user:ee,wallet:se}),ue=Object(K.createStore)(ie,Object(Q.composeWithDevTools)(Object(K.applyMiddleware)(Y.a)));c.a.render(r.a.createElement(o.a,{store:ue},r.a.createElement(s.a,{basename:"/trybewallet"},r.a.createElement(H,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.c08fd189.chunk.js.map